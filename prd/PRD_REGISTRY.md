# PRD 总集（台账）

说明：
- 每个 PRD 一行，链接永远指向当前最新版本文件；历史追溯交给 Git。
- 本台账不包含 `prd/aico知识库.md`（该文件为对接说明，不作为 PRD 版本行管理）。

| 版本 | 标题 | 需求内容（详细摘要） | PRD链接 |
| --- | --- | --- | --- |
| V1.0 | 智能知识库挖掘与扩充系统 | 建立从对话挖掘到知识入库的闭环流程，核心链路为AI挖掘与去重、人工审核、知识维护。提供待审核列表、审核决策（编辑采纳或废弃）与正式知识的启用禁用管理。范围聚焦水务与公交场景的运营提效与知识时效提升。 | prd/prd1.0.md |
| V1.1 | 智能知识库挖掘与扩充系统 | 将审核从“列表页+详情页”优化为单页内联展开式审核，减少上下文切换并提升批量处理效率。支持一键采纳、展开编辑后采纳、废弃，并要求同一时间仅展开一项以保持界面清爽。以审核工作台交互体验为核心范围。 | prd/prd1.1.md |
| V1.2 | 对话数据预处理与聚合模块 | 将源数据库中的碎片化对话记录按场景并行聚合为可读的完整对话文本，并写入 `prepared_conversations` 作为后续AI处理输入。支持每日定时调度与幂等处理，避免重复入库。强调性能、互斥执行与可观测性，范围止于数据准备不包含AI调用。 | prd/prd1.2.md |
| V1.3 | AICO知识库同步与编排服务 | 引入“场景配置”概念以支持多业务场景的知识库同步，提供场景CRUD与手动触发能力。定时扫描启用场景，将内部已生效知识打包成文件并编排调用外部平台的认证、上传、切片、上线流程。要求日志、重试与可扩展性，目标是全量覆盖式一致性同步。 | prd/prd1.3.md |
| V1.4 | 人工审核后台服务 | 提供支撑审核工作台的后端API，围绕 `pending_faqs` 与 `knowledge_items` 两张表完成数据流转。支持获取待审列表、采纳写入正式知识并更新待审状态、废弃待审记录。范围聚焦审核链路的数据一致性与基础认证授权。 | prd/prd1.4.md |
| V1.5 | AI自动化提取服务（极简版） | 定时从 `prepared_conversations` 拉取待处理对话，以固定并发调用单一外部智能体完成FAQ提取。按返回结果解析“问题答案”或“否”，分别写入 `pending_faqs` 或标记无产出，并对失败进行有限重试与状态记录。范围强调低配置复杂度与可观测性。 | prd/prd1.5.md |
| V1.6 | 前端应用搭建与审核工作台 | 搭建生产级前端应用与统一登录流程，基于账号绑定场景实现数据隔离。交付审核工作台页面，支持内联展开编辑、直接采纳与废弃，并与审核后台API联动。范围聚焦前端框架、认证存储与审核主页面。 | prd/prd1.6.md |
| V1.7 | 正式知识库管理页面 | 提供正式知识的查询与维护能力，包含状态页签、关键词搜索、编辑模态框与启用禁用操作。要求严格遵循登录场景隔离并携带认证Token。明确非目标：不提供新增入口与物理删除。 | prd/prd1.7.md |
| V1.8 | 批量审核功能 | 在审核工作台引入复选框与上下文操作栏，支持批量采纳与批量废弃并带二次确认。后端需以事务保证批量操作的原子性，并建议限制单次批量上限。范围聚焦审核效率提升与交互反馈。 | prd/prd1.8.md |
| V1.9 | 知识库管理与手动同步 | 在知识库管理基础上增加“立即同步至知识库”按钮，以便紧急更新时手动触发同步任务并获得异步反馈。强调与既有定时同步复用同一套智能同步逻辑。范围覆盖管理与发布闭环，不包含物理删除。 | prd/prd1.9.md |
| V1.10 | 后台任务管理页面 | 提供内部管理页面以手动触发数据预处理与AI提取任务，解决测试与运维等待定时任务的问题。入口使用不在导航展示的秘密URL并要求已登录即可访问。范围仅做触发不做任务状态轮询与展示。 | prd/prd1.10.md |
| V1.11 | AICO同步流程优化 | 将知识库同步模式升级为先删后增，在上传新知识前显式清空外部平台中由本系统管理的旧文件。删除失败需中止后续流程并记录错误，同时需要确认外部删除接口的最终契约。范围为同步编排服务的内部逻辑优化，不涉及UI改动。 | prd/prd1.11.md |
| V1.12 | 分类知识库展示模块 | 新增与QA审核模块业务独立的分类知识库模块，固定三级分类体系并为三级提供定义与多条对话案例，案例默认全部展开显示全文。支持分类与案例的增删改查，以及单CSV按当前范围全量覆盖导入，案例列为动态列且同类目多行合并追加案例。导入需校验业务域一致与定义冲突并在失败时说明原因，案例不去重。 | prd/prd1.12.md |
| V1.13 | AI自动预审核与审核队列分流 | 在AI提取后新增自动预审核环节，调用独立固定智能体对Q&A输出approved或rejected并分流。approved进入待审核列表并由人工继续审核，rejected写入待审核表但默认隐藏且不可查询。自动审核异常文本按rejected处理，失败或超时重试两次后降级进入人工审核。前端不新增交互，仅审核列表保持展示pending条目。范围仅为后台逻辑调整与队列状态扩展，不改变既有人工审核与入库规则。 | prd/prd1.13.md |
| V1.14 | 三级分类审核工作台 | 在分类知识库模块下新增三级分类审核工作台，审核对象为三级名称定义与案例整体。列表仅展示三级路径、定义全文与案例全文，按场景隔离并支持公交自行车页签。支持直接采纳、展开编辑后采纳与废弃，展开仅允许一条并提供必填校验。采纳后立即在三级分类知识库页面生效，废弃后从列表移除。非目标包括批量审核、搜索筛选排序分页与审核触发来源。 | prd/prd1.14.md |
| V1.15 | AI对比审核与对比知识库同步 | 在自动预审核之后新增对比审核层，仅处理auto_review=approved的Q&A，由独立AICO智能体输出approved或rejected进行可见或隐藏分流。对比审核异常文本按rejected处理，失败或超时重试两次后降级为可见待审核，确保人工审核不被阻断。新增对比知识库定时同步，数据源为同场景可见待审核Q&A，复用现有同步编排并全量覆盖。水务与公交分别使用water_compare与bus_compare配置独立AICO项目与知识库，避免覆盖既有库。同步失败时继续使用上一次成功快照，对比审核照常执行。范围为后台逻辑扩展，不新增前端页面或交互。 | prd/prd1.15.md |
