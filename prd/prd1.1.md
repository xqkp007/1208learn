# 产品需求文档：智能知识库挖掘与扩充系统 - V1.1

## 1. 综述 (Overview)
### 1.1 项目背景与核心问题
在V1.0的基础上，我们发现将审核流程拆分为“列表页”和“详情页”存在上下文切换成本高、操作流程冗长的问题，影响了审核员批量处理任务的效率。V1.1版本的核心目标是对审核交互进行彻底优化，将列表浏览、快速决策、详细编辑等核心功能整合到单一页面中，打造一个“所见即所得”的、无需页面跳转的、如丝般顺滑的高效审核体验。

### 1.2 核心业务流程 / 用户旅程地图
V1.1版本聚焦于单一阶段，旨在提供极致的审核效率：
1.  **阶段一：统一审核工作台** - 审核员在一个集成的界面中，完成对AI生成FAQ的快速筛选、一键采纳、展开编辑、细节核对与最终入库的全流程操作。

## 2. 用户故事详述 (User Stories)

### 阶段一：统一审核工作台

---

#### **US-1.1: 作为知识库审核员，我希望在一个页面内完成所有审核操作，以便最大化提升我处理批量任务的效率。**
*   **价值陈述 (Value Statement)**:
    *   **作为** 知识库审核员
    *   **我希望** 在不跳转页面的情况下，既能快速采纳高质量的Q&A，也能方便地展开编辑需要修改的Q&A
    *   **以便于** 减少不必要的操作步骤和等待时间，实现流畅、高效的审核工作流。
*   **业务规则与逻辑 (Business Logic)**:
    1.  **前置条件**: 用户已登录系统，并进入“统一审核工作台”页面。
    2.  **核心交互模式：内联展开式审核 (Inline Accordion Review)**
        *   页面主体为一个待审核FAQ列表。每一行默认展示“问题摘要”、“答案摘要”和一组操作按钮。
    3.  **操作流程 (快速采纳 - Happy Path)**:
        1. 审核员审阅列表中的某一行，认为其Q&A质量很高，无需修改。
        2. 点击该行末尾的【✔ 直接采纳】按钮。
        3. 该行Q&A数据被发送至后端进行入库操作。
        4. 前端收到成功回调后，该行伴随一个平滑的动画（如淡出）从列表中移除。
    4.  **操作流程 (展开编辑与采纳)**:
        1. 审核员认为某行的Q&A需要修改或查看细节。
        2. 点击该行的【展开/编辑】按钮。
        3. **当前行下方会“展开”一个新的区域**，该区域内包含可编辑的完整问题输入框、完整答案输入框，以及原始对话参考全文。
        4. 审核员在展开区域内对Q&A进行修改。
        5. 修改完成后，点击展开区域底部的【保存并采纳】按钮。
        6. 修改后的Q&A数据被发送至后端入库。成功后，该行（包含其展开区域）从列表中移除。
    5.  **操作流程 (废弃)**:
        1. 审核员认为某行Q&A无价值。
        2. 点击该行的【✖ 废弃】按钮。
        3. 系统确认后，将该条待审核记录标记为废弃，并从列表中移除。
*   **验收标准 (Acceptance Criteria)**:
    *   **场景1: 快速一键采纳**
        *   **GIVEN** 我在审核工作台列表看到一条无需修改的Q&A
        *   **WHEN** 我点击该行的【✔ 直接采纳】按钮
        *   **THEN** 该行应从列表中消失，并且该条Q&A应成功入库。
    *   **场景2: 展开、编辑并采纳**
        *   **GIVEN** 我点击了某行的【展开/编辑】按钮
        *   **WHEN** 我在展开的编辑区内修改了答案，并点击【保存并采纳】
        *   **THEN** 该行应从列表中消失，并且修改后的Q&A应成功入库。
    *   **场景3: 展开后取消**
        *   **GIVEN** 我展开了某一行进行编辑
        *   **WHEN** 我点击展开区域内的【取消】按钮
        *   **THEN** 展开的区域应被收起，列表恢复到展开前的状态，数据未做任何变更。
---
*   **技术实现概要 (Technical Implementation Brief)**:
    *   **影响范围**: Web前端、后端API
    *   **前端 / 客户端 (Frontend / Client)**: 采用React/Vue框架。核心是实现一个可动态展开/收起的列表组件（Accordion List）。列表的每一项需要管理自身的“展开”状态和其内部的表单数据。操作成功后，通过更新数据源并配合CSS动画来移除列表项。
    *   **页面布局线框图 (ASCII Wireframe)**:
        ```text
        <!-- 状态一：默认列表 (用于快速决策) -->
        +--------------------------------------------------------------------------------------------------+
        | FAQ 审核工作台                                                                                   |
        +--------------------------------------------------------------------------------------------------+
        | [ 按关键词搜索... ] [ 筛选 ]                                                                     |
        +--------------------------------------------------------------------------------------------------+
        |                                                                                                  |
        | +------------------------------------+--------------------------------+-------------------------+ |
        | | 问题摘要                           | 答案摘要                       | 操作                    | |
        | +------------------------------------+--------------------------------+-------------------------+ |
        | | 如何查询上个月的水费账单？         | 您可以在APP的“历史账单”中查...   | [✔采纳] [展开] [✖废弃] | |
        | +------------------------------------+--------------------------------+-------------------------+ |
        | | 我家水管漏水了，应该联系哪个部门？ | 您可以拨打24小时报修热线963... | [✔采纳] [展开] [✖废弃] | |
        | +------------------------------------+--------------------------------+-------------------------+ |
        
        <!-- 状态二：点击“展开”后的状态 (用于编辑和查看细节) -->
        | +------------------------------------+--------------------------------+-------------------------+ |
        | | 我家水管漏水了，应该联系哪个部门？ | 您可以拨打24小时报修热线963... | [✔采纳] [展开] [✖废弃] | |
        | +------------------------------------------------------------------------------------------------+ |
        | |  ▼  该行已展开                                                                                   | |
        | | +--------------------------------------------------------------------------------------------+ | |
        | | |  问题(Q):                                                                                  | | |
        | | |  +--------------------------------------------------------------------------------------+ | | |
        | | |  | 我家水管漏水了，应该联系哪个部门维修？                                             | | | |
        | | |  +--------------------------------------------------------------------------------------+ | | |
        | | |  答案(A):                                                                                  | | |
        | | |  +--------------------------------------------------------------------------------------+ | | |
        | | |  | 您可以拨打24小时报修热线963111...                                                | | | |
        | | |  +--------------------------------------------------------------------------------------+ | | |
        | | |  原始对话参考:                                                                             | | |
        | | |  +--------------------------------------------------------------------------------------+ | | |
        | | |  | 市民：喂，你好，我家厨房水管好像有点漏水... (内容可滚动)                           | | | |
        | | |  +--------------------------------------------------------------------------------------+ | | |
        | | |                                                                 [ 保存并采纳 ] [ 取消 ]  | | |
        | | +--------------------------------------------------------------------------------------------+ | |
        | +------------------------------------------------------------------------------------------------+ |
        ```
    *   **后端 (Backend)**: 后端接口保持不变。前端通过不同的用户操作（直接采纳 vs. 编辑后采纳）调用相同的入库接口 `POST /knowledge-base`，只是请求体中的Q&A内容不同。
*   **约束与边界 (Constraints & Boundaries)**:
    *   为保持界面清爽，同一时间只允许展开一项进行编辑。当用户尝试展开新的一项时，之前已展开的项应自动收起。
*   **非功能性需求 (Non-Functional)**:
    *   列表项的展开、收起、移除等操作，需要有流畅的过渡动画，以提供良好的视觉反馈，避免界面元素的瞬时跳变。